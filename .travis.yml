# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - openjdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  allow_failures:
    - jdk: openjdk-ea
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.x) AND type IN (push) AND repo = bootique/bootique-asciidoc-internal

# travis encrypt -r bootique/bootique-asciidoc-internal "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-asciidoc-internal "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "nxlt+1THdUogzY7KDPu6QenAwVSgOrFRc5L+3Ut137oaXKUfiB7EwZeYnZp4bPmR3HdHrGunLQSO07TxxRqNHH/os9jrPxMwEWQtHuSfezfBwpBh9C34A5DhAD3KU9W95cl72I0CzBO+ei/R2TLkouuWxIbFcoMfOwAFL2ZY6sFSQrKsyStGyaSIfCy9D4y6s+CkRfaZf5/SJjdB3/BEvHxEXLlO/7uJ8WwQr88re0ZbrQsk1KvZ3xk/lhwNxQBXEEXYnZPeuVRHFFu5KFk97iRFO2gi9goX7FqRk5Mi1yiMziGwUfIaMv6+AnvypUTM+K5IxwpnzgJn/zwodMzimisfhiTFHU8SUfbTdC4A2XK57K11OdD+qGNPU4Na335M2YSohgzaisoO+EEqNVYghrQd7//JoaLSL6qlUk0/mAl7VaYfBlgEl/wOzY6xqNZO3BX7QwhHhwJo6a1ZSwh5QXnln3sRlS+As6ztNwlJFf/OSUtqXvFFY6pYS63oZEWFmQCl4CVuqxEGSIrgIJ29as1o7JLWor+telib+ZWl5HgU366SSLeel2cMxTYnF3Rk+RfG1Gp5ZebL5T9Kq90x4O00c29q/m0z4tGiIIGt3m8iANokgODuWpVBXBAwOGCzkwTLdpwSMhaoV4zdk5jYGyPxUdNaNKZjXcrUoc8QHVs="
    - secure: "GUuzlqwDBJdj61bVFChSovo2URNgO4ceUbRXLBhlfAOCYalci/7HfUwqokZBG2urhFq2OoqfEshoFVtp3uvpipX0PiF1IBVz/doGH6B3G61bvFOcvQDuDIdnGlv0lleMdDEJivOTmAbKJF/kT898WePGM+3jzHn62qZdMX8LfGAB1n5UYwh1K9Y5fjE0BTanvo3E+DOfPzWyCH694+j6D61LT9TTbCJZeMPgLgpbiVfbefiwBYICGBpBdOoWPnEQ6JIAXQ3mT8CLtqZg5PDUR5ymX57a/hxTkEYFWMCdKid4b7Na17THzIASgLAeT0GjQHjAx+k9VD+BNlexILcRkjzDSS9rYg8hwOKx9hELLpWwFoMa5fA0dyn3n+Vkp2uEaFlXXM2lXiBj/mHiz8pffjEyqt0HIK01gUlwfjsGODSTnVTTBrT6encYtNoabEQVLVC9R29oM7Vcv4kB+xudLwi4V3wJg8Z8t7um+K29a039zbWwqIUmPX/i6ezZWwTPOQBtoTQWjR4v5RMnhNww6bpkKOodoTfe51Gpw4Jr+TF86kJV1PQ+Sk10t1CtJvf4WouOLHGKFxQjV+vU6jKJK55sFiO8etYRoqVi/6Venu9DRAlP/KnXIys+Lfa3SPzG145QieWrAvGMAEYqlegOWaEgWrwi5wiyFTvirLuKlDU="

