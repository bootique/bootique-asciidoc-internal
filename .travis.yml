# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - openjdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  allow_failures:
    - jdk: openjdk-ea
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.x) AND type IN (push) AND repo = bootique/bootique-asciidoc-internal

# travis encrypt -r bootique/bootique-asciidoc-internal "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-asciidoc-internal "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "nHTYfB+HFyPl0osYc7YXKeX4Ghc8I2AzDq4qh99e5Xrd1ALjZyrUZhqlvhTT3Dq7Py5MbB0bHCtlF9kyyyjp+CkP5sxjSglf512yDtcsI5WZiXDk9dqKmv3dTmDYtc9YA9+h60CAJ41PM1zSA/1d6aqaZNhS4FpRGO4uA8HWKxukx/O8gq0/qs+cHKGPrjTTvObsRslgu3f+aYR6nOw8e/rmFO21nDr4Mtw68yLkWsjRFT480fW1iP2E5AjEd1jCnp2i98nNocUPtedVlqx/lpdLleBJF9Id/truGYjKwdW7oEYzebXD2ANv3L7jWcMWWhOSmTyW2WFojPew0LwnPpEVbx/5w8GBSfQI6CBwKWUCbSpjVAxfy9LlfncE3CszQgg99VRusZSArfleTqwfK298WlKuwmm3BbHvLrkZc5CCjcTA8+l4D2z+NaS1yPNN/IiXI+FGRvNqT5CvMY2zpUIQ0LfLu660bq63Q45awI9+LPr84LcfThfK8NPeOILdgFjHAOmEzZ8YMezBsYK6YrZX83wTfRnGjJzbhV/rK+MwG8eWSwXBa1U8msfnhGkWnXGNl37isMbCKr2g3yume27BV/liJfiRBT+Nzid71Cqeu/bwT89gd5+5k4OPg5L+ADRvlHhpxCCKaD00somEmuzTW+hACTnb6FcXMymXXU0="
    - secure: "niKRc/OoQ4SkxJ2mJAJkLA5CMG2ljxFlB8KK0E7uken5qFyRMBhUKYnJug0UGfZ93uKngBO+9+015boJxFnrjNz2AN7DbFiFbgPGvVt9WRtradZCSOSMb0WEmIaQGXL4u2uX126UQfG58nwAqAc1LxgFX6L7Cri17apBSdnKOkAIIe4fx4b/yaJHNwhypRrgtYuNy++A+sUXK6vCzhjsb8w0V4aQHFj/7WjtUPq9AfITzDb7LPYDPcm2mLhXniTvSnpjlQomydPN3tbOTbkJjqlOvVki3gi1EbFbq4l0MuhKyg5xgiz2lDJA3FTpvZYJBtV31T1UjUh6dAa+V1HsaUwcWYz/PAq+ryUQuU6FunR35Ms4D7yLXgqK4ts3H4tz0lkPC6OYgIdK+M1YtRFLcR0saE31hS/zIxW25FCdcM6FKncY4YZXoYvnfmhaV+XCuS9tnxXlSo0Eti54scQJk1PMCyS7dzZjqeUVRt7/p0YeE/q9YHsqyIej5kSWpxjfqM5YOVYdXB1iGV8Q2lxQuo3Vho2lsNBGtVz7SH8CqrNIROCB/EJB/CKbdbATqts+oU0nYsBIq5YW7FibQEzH3qijVJvjFdVrrHEa4sDLyeAcqqjUcahs6Dskeyzx2ONv+CWtJU2RwShp3RUuyXY/c9wqdjGzGPePHh+p1zFrI3I="

